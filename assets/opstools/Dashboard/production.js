steal.has("stealconfig.js","opstools/Dashboard/views/ADDBWidget/ADDBWidget.ejs","opstools/Dashboard/controllers/ADDBWidget.js","opstools/Dashboard/views/ADDBWidgetTable/ADDBWidgetTable.ejs","opstools/Dashboard/controllers/ADDBWidgetTable.js","opstools/Dashboard/views/ADDBWidgetTableNSCUpdate/Table.ejs","opstools/Dashboard/controllers/ADDBWidgetTableNSCUpdate.js","opstools/Dashboard/views/ADDBWidgetGmaGraph/ADDBWidgetGmaGraph.ejs","opstools/Dashboard/views/ADDBWidgetGmaGraph/assignment-item.ejs","opstools/Dashboard/views/ADDBWidgetGmaGraph/measurement-item.ejs",
"opstools/Dashboard/controllers/ADDBWidgetGmaGraph.js","opstools/Dashboard/views/WidgetList/WidgetList.ejs","opstools/Dashboard/views/WidgetList/WidgetDiv.ejs","opstools/Dashboard/controllers/WidgetList.js","opstools/Dashboard/views/Dashboard/Dashboard.ejs","opstools/Dashboard/views/Dashboard/Mockup.ejs","opstools/Dashboard/controllers/Dashboard.js","opstools/Dashboard/Dashboard.js");steal({id:"OpsPortal/production.js",waits:!0,has:"can/util/can.js can/util/array/each.js can/util/jquery/jquery.js can/util/util.js can/util/bind/bind.js can/util/string/string.js can/construct/construct.js can/observe/observe.js can/util/string/deparam/deparam.js can/route/route.js can/control/control.js can/control/route/route.js can/model/model.js can/view/view.js can/observe/compute/compute.js can/view/elements.js can/view/scanner.js can/view/node_lists.js can/view/live.js can/view/render.js can/view/ejs/ejs.js can/can.js can/construct/super/super.js appdev/ad.js js/OpenAjax.js appdev/comm/hub.js appdev/util/uuid.js js/async.js appdev/util/async.js appdev/config/config.js appdev/model/model.js appdev/labels/lang.js appdev/labels/label.js appdev/sal/web-jquery.js appdev/comm/service.js appdev/comm/socket.js appdev/widgets/ad_ui_reauth/ad_ui_reauth.css appdev/widgets/ad_ui_reauth/ad_ui_reauth.js appdev/auth/reauth.js appdev/UIController.js appdev/control/control.js appdev/widgets/ad_icon_busy/ad_icon_busy.css appdev/widgets/ad_icon_busy/ad_icon_busy.js appdev/appdev.js OpsPortal/classes/OpsTool.js".split(" ")});
steal({id:"opstools/Dashboard/production.css",waits:!0,has:["opstools/Dashboard/dashboard.css"]});steal.pushPending();
steal.config({map:{"*":{"jquery/jquery.js":"jquery"}},paths:{jquery:"js/jquery.min.js","jquery-ui.js":"js/jquery-ui.min.js","bootstrap.js":"bootstrap/js/bootstrap.js","bootstrap.css":"bootstrap/css/bootstrap.min.css","wijmo-open.js":"js/jquery.wijmo-open.all.3.20142.45.min.js","wijmo-pro.css":"styles/jquery.wijmo-pro.all.3.20142.45.min.css","wijmo-pro.js":"js/jquery.wijmo-pro.all.3.20142.45.min.js","jquery-wijmo.css":"styles/jquery-wijmo.css","font-awesome.css":"styles/font-awesome.css","GenericList.js":"js/GenericList.js",
"dropzone.js":"js/dropzone.min.js","dropzone.css":"styles/dropzone.css"},shim:{jquery:{exports:"jQuery",ignore:!0},"js/dependencies/sails.io.js":{packaged:!1,ignore:!0},"site/labels/appdev.js":{packaged:!1,ignore:!0},"jquery-ui.js":{packaged:!1},"bootstrap.js":{packaged:!1},"wijmo-open.js":{packaged:!1},"wijmo-pro.js":{packaged:!1},"jquery-wijmo.css":{packaged:!1},"font-awesome.css":{packaged:!1},"js/jquery.sidr.min.js":{packaged:!1},"bootstrap/js/bootstrap-datepicker.js":{packaged:!1},"opsportal/requirements.js":{ignore:!0},
"site/labels/OpsPortal.js":{packaged:!1,ignore:!0},"site/labels/opstool-Dashboard.js":{packaged:!1,ignore:!0},"js/datatables/media/js/jquery.dataTables.min.js":{packaged:!1},"js/sDashboard/sDashboard.css":{packaged:!1},"js/Flotr2/flotr2.min.js":{packaged:!1},"js/sDashboard/jquery-sDashboard.js":{packaged:!1},"wijmo-pro.css":{packaged:!1},"site/labels/opstools/GMAMatrix.js":{packaged:!1,ignore:!0},"site/labels/HrisAdminObjects.js":{packaged:!1,ignore:!0},"site/labels/HRISUserProfile.js":{packaged:!1,
ignore:!0},"dropzone.js":{packaged:!1},"dropzone.css":{packaged:!1},"site/labels/opstool-MPDReport.js":{packaged:!1,ignore:!0}},amd:!1});steal.executed("stealconfig.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_ADDBWidget_ADDBWidget_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push('<div class="panel panel-default">\n    <div class="panel-heading">\n        <a class="ad-item-add btn btn-default" href="#">Add</a>\n        <a class="ad-item-delete btn btn-default" style="float:right" href="#">Delete</a>\n    </div>\n    <div class="panel-body">\n        <div class="well" >Content for ADDBWidget</div>\n    </div>\n</div>');return b.join("")}}))});
steal.executed("opstools/Dashboard/views/ADDBWidget/ADDBWidget.ejs");
steal("appdev","appdev/widgets/ad_icon_busy","//opstools/Dashboard/views/ADDBWidget/ADDBWidget.ejs",function(){"undefined"==typeof AD.controllers.opstools&&(AD.controllers.opstools={});"undefined"==typeof AD.controllers.opstools.Dashboard&&(AD.controllers.opstools.Dashboard={});AD.controllers.opstools.Dashboard.ADDBWidget=AD.classes.UIController.extend({init:function(a,c){var d=this;this.options=c=AD.defaults({templateDOM:"//opstools/Dashboard/views/ADDBWidget/ADDBWidget.ejs",id:"Widget 1",title:"Widget 1"},
c);AD.classes.UIController.apply(this,arguments);this.dataSource=this.options.dataSource;this.inProcess=false;this.initDOM();AD.comm.hub.subscribe("opsDashboard.widget.removed",function(a,c){c.widgetId==d.options.id&&d.element.show()})},initDOM:function(){var a=this;this.busyIcon=new AD.widgets.ad_icon_busy(this.element.find(".busy"));this.element.click(function(){if(a.inProcess==false){a.inProcess=true;a.busyIcon.show();a.refreshData().fail(function(){a.inProcess=false;a.busyIcon.hide()}).then(function(c){AD.comm.hub.publish("opsDashboard.widget.add",
{definition:c});a.busyIcon.hide();a.element.hide();a.inProcess=false})}})},refreshData:function(){var a=AD.sal.Deferred();console.error(" no refreshData method implented!");a.resolve({widgetTitle:this.options.title,widgetId:this.options.id,widgetContent:"Some Random Content"});return a},".ad-item-add click":function(a,c){c.preventDefault()}})});steal.executed("opstools/Dashboard/controllers/ADDBWidget.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_ADDBWidgetTable_ADDBWidgetTable_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push('<div class="panel panel-default">\n    <div class="panel-heading">\n        <a class="ad-item-add btn btn-default" href="#">Add</a>\n        <a class="ad-item-delete btn btn-default" style="float:right" href="#">Delete</a>\n    </div>\n    <div class="panel-body">\n        <div class="well" >Content for ADDBWidgetTable</div>\n    </div>\n</div>');
return b.join("")}}))});steal.executed("opstools/Dashboard/views/ADDBWidgetTable/ADDBWidgetTable.ejs");
steal("appdev","opstools/Dashboard/controllers/ADDBWidget.js","//opstools/Dashboard/views/ADDBWidgetTable/ADDBWidgetTable.ejs",function(){"undefined"==typeof AD.controllers.opstools&&(AD.controllers.opstools={});"undefined"==typeof AD.controllers.opstools.Dashboard&&(AD.controllers.opstools.Dashboard={});AD.controllers.opstools.Dashboard.ADDBWidgetTable=AD.controllers.opstools.Dashboard.ADDBWidget.extend({init:function(a,c){this.options=c=AD.defaults({templateDOM:"//opstools/Dashboard/views/ADDBWidgetTable/ADDBWidgetTable.ejs"},
c);AD.controllers.opstools.Dashboard.ADDBWidget.prototype.init.apply(this,[a,c]);this.dataSource=this.options.dataSource},refreshData:function(){var a=this,c=AD.sal.Deferred(),d=this.options.config.fields;this.options.config.fields=this.options.config.fields||["no","fields","given"];var b=[];this.options.config.fields.forEach(function(a){b.push({sTitle:a})});var e=[];AD.comm.service.get({url:this.options.config.url}).fail(function(a){console.log("Whoops!");console.log(a)}).then(function(f){if(f.length){f.forEach(function(a){var b=
[];d.forEach(function(c){a[c]&&b.push(a[c])});e.push(b)});c.resolve({widgetTitle:a.options.title,widgetId:a.options.id,widgetType:"table",widgetContent:{aaData:e,aoColumns:b}})}});return c},".ad-item-add click":function(a,c){c.preventDefault()}})});steal.executed("opstools/Dashboard/controllers/ADDBWidgetTable.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_ADDBWidgetTableNSCUpdate_Table_ejs",a.EJS(function(c,d){with(d)with(c){var b=[];b.push('<table id="table-');b.push(a.view.txt(1,"table","id",this,function(){return id}));b.push('" class="display sDashboardTableView widget-');b.push(a.view.txt(1,"table","class",this,function(){return id}));b.push('" cellspacing="0" width="100%" style="clear:both;"',a.view.pending(),">");b.push("\n    <thead>\n        <tr >\n");b.push(a.view.txt(0,
"tr",0,this,function(){var b=[];fields.forEach(function(c){b.push("            <th>");b.push(a.view.txt(1,"th",0,this,function(){return c}));b.push("</th>\n")});"notPaid"==mode&&b.push("\n            <th></th>\n");return b.join("")}));b.push("\n        </tr>\n    </thead>\n    <tfoot>\n");b.push(a.view.txt(0,"tfoot",0,this,function(){var b=[];fields.forEach(function(c){b.push("            <th>");b.push(a.view.txt(1,"th",0,this,function(){return c}));b.push("</th>\n")});"notPaid"==mode&&b.push("\n             <th></th>\n");
return b.join("")}));b.push("\n    </tfoot>\n    <tbody>\n");b.push(a.view.txt(0,"tbody",0,this,function(){var b=[];data.forEach(function(c){b.push('\n    <tr data-row-staff-guid="');b.push(a.view.txt(1,"tr","data-row-staff-guid",this,function(){return c.ren_guid}));b.push('"',a.view.pending(),">");b.push("\n");b.push(a.view.txt(0,"tr",0,this,function(){var b=[];fields.forEach(function(d){b.push(a.view.txt(0,"tr",0,this,function(){var b=[];c[d]?(b.push("            <td>"),b.push(a.view.txt(1,"td",
0,this,function(){return c[d]})),b.push("</td>\n")):b.push("            <td>?</td>\n");return b.join("")}))});"notPaid"==mode&&(b.push('\n            <td><button class="opsdashboard-nsctobepaid-paid" data-staff-guid="'),b.push(a.view.txt(1,"button","data-staff-guid",this,function(){return c.ren_guid})),b.push('" data-staff-account="'),b.push(a.view.txt(1,"button","data-staff-account",this,function(){return c.staff_number})),b.push('" data-staff-name="'),b.push(a.view.txt(1,"button","data-staff-name",
this,function(){return c.account_name})),b.push('"',a.view.pending(),">"),b.push("paid</button></td>\n"));return b.join("")}));b.push("\n    </tr>\n")});return b.join("")}));b.push("\n    </tbody>\n</table>");return b.join("")}}))});steal.executed("opstools/Dashboard/views/ADDBWidgetTableNSCUpdate/Table.ejs");
steal("appdev","opstools/Dashboard/controllers/ADDBWidget.js","//opstools/Dashboard/views/ADDBWidgetTableNSCUpdate/Table.ejs",function(){"undefined"==typeof AD.controllers.opstools&&(AD.controllers.opstools={});"undefined"==typeof AD.controllers.opstools.Dashboard&&(AD.controllers.opstools.Dashboard={});AD.controllers.opstools.Dashboard.ADDBWidgetTableNSCUpdate=AD.controllers.opstools.Dashboard.ADDBWidget.extend({init:function(a,c){this.options=c=AD.defaults({mode:"notPaid",templateTable:"//opstools/Dashboard/views/ADDBWidgetTableNSCUpdate/Table.ejs"},
c);AD.controllers.opstools.Dashboard.ADDBWidget.prototype.init.apply(this,[a,c]);this.dataSource=this.options.dataSource},refreshData:function(){var a=this,c=AD.sal.Deferred(),d=this.options.config.fields;this.options.config.fields=this.options.config.fields||["no","fields","given"];var b=[];this.options.config.fields.forEach(function(a){b.push({sTitle:a})});AD.comm.socket.get({url:this.options.config.url}).fail(function(a){console.log("Whoops!");console.log(a)}).then(function(b){var f=$(".opsDashboard-widget-list-builder");
f.append(can.view(a.options.templateTable,{id:a.options.id,fields:d,data:b,mode:a.options.mode}));var b=f.find(".widget-"+a.options.id),g=b.DataTable({id:"skippy-"+a.options.id});b.find("button").click(function(){var b=$(this).attr("data-staff-guid"),c=$(this).attr("data-staff-account"),d=$(this).attr("data-staff-name");AD.comm.socket.get({url:a.options.config.url_paid+"/"+b,params:{account:c,name:d}}).fail(function(a){console.log(a)}).then(function(){})});AD.comm.socket.subscribe("NSCAlreadyPaid.created",
function(b,c){a.options.mode=="notPaid"?g.row('[data-row-staff-guid="'+c.data.ren_guid+'"]').remove().draw():g.row.add([c.data.staff_account,c.data.account_name]).draw()});b=b.parent();c.resolve({widgetTitle:a.options.title,widgetId:a.options.id,widgetContent:b})});return c},".ad-item-add click":function(a,c){c.preventDefault()}})});steal.executed("opstools/Dashboard/controllers/ADDBWidgetTableNSCUpdate.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_ADDBWidgetGmaGraph_ADDBWidgetGmaGraph_ejs",a.EJS(function(c,d){with(d)with(c){var b=[];b.push('<div class="panel panel-default gmaGraph-');b.push(a.view.txt(1,"div","class",this,function(){return id}));b.push('"',a.view.pending(),">");b.push('\n    <div class="navbar" style="margin-bottom: 0px;" >\n        <div class="button-assignments btn-group">\n            <button type="primary button" class="btn opsportal-btn opsportal-btn-dk dropdown-toggle" data-toggle="dropdown">\n                <span class="assignment-text">');
b.push(a.view.txt(0,"span",0,this,function(){return AD.lang.label.getLabelSpan("[Assignments]")}));b.push('</span><span class="caret"></span>\n            </button>\n            <ul class="list-assignments dropdown-menu" role="menu">\n            ');b.push(a.view.txt(0,"ul",0,this,function(){var b=[];assignments.forEach(function(c){b.push('\n                <li class="assignment-item" nodeId="');b.push(a.view.txt(1,"li","nodeId",this,function(){return c.nodeId}));b.push('" name="');b.push(a.view.txt(1,
"li","name",this,function(){return c.shortName}));b.push('"',a.view.pending(),">");b.push('<a href="#">');b.push(a.view.txt(1,"a",0,this,function(){return c.shortName}));b.push("</a></li>\n            ")});return b.join("")}));b.push('\n            </ul>\n        </div>\n        <div class="measurements-busy" style="float:right"></div>\n        <div class="button-measurements btn-group" style="float:right" >\n            <button type="button" class="btn opsportal-btn opsportal-btn-dk dropdown-toggle" data-toggle="dropdown">\n                <span class="measurement-text">');
b.push(a.view.txt(0,"span",0,this,function(){return AD.lang.label.getLabelSpan("[Measurements]")}));b.push('</span><span class="caret"></span>\n            </button>\n            <ul class="list-measurements dropdown-menu" role="menu">\n                <li>');b.push(a.view.txt(0,"li",0,this,function(){return AD.lang.label.getLabelSpan("[Choose Assignment]")}));b.push('</li>\n            </ul>\n        </div>\n    </div>\n    <div class="panel-body" style="padding-top: 0px; padding-bottom: 0px;" >\n        <span class="opstool-dashboard-infoupdate">');
b.push(a.view.txt(0,"span",0,this,function(){return AD.lang.label.getLabelSpan("[choose an assignment ...]")}));b.push('</span>\n        <div class="graph-busy" style="float:right"></div>\n        <div class="graph-area" style="position: relative; margin: 0 auto;">\n            <div class="gmaSparkline" style="margin: 0 auto; height:100px;width:318px;"></div>\n        </div>\n    </div>\n</div>');return b.join("")}}))});steal.executed("opstools/Dashboard/views/ADDBWidgetGmaGraph/ADDBWidgetGmaGraph.ejs");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_ADDBWidgetGmaGraph_assignment-item_ejs",a.EJS(function(c,d){with(d)with(c){var b=[];b.push('<li class="assignment-item" nodeId="');b.push(a.view.txt(1,"li","nodeId",this,function(){return assignment.nodeId}));b.push('" name="');b.push(a.view.txt(1,"li","name",this,function(){return assignment.shortName}));b.push('"',a.view.pending(),">");b.push('<a href="#">');b.push(a.view.txt(1,"a",0,this,function(){return assignment.shortName}));
b.push("</a></li>");return b.join("")}}))});steal.executed("opstools/Dashboard/views/ADDBWidgetGmaGraph/assignment-item.ejs");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_ADDBWidgetGmaGraph_measurement-item_ejs",a.EJS(function(c,d){with(d)with(c){var b=[];b.push('<li class="measurement-item" measurementId="');b.push(a.view.txt(1,"li","measurementId",this,function(){return measurement.measurementId}));b.push('"',a.view.pending(),">");b.push(a.view.txt(1,"li",0,this,function(){return measurement.measurementName}));b.push("</li>");return b.join("")}}))});steal.executed("opstools/Dashboard/views/ADDBWidgetGmaGraph/measurement-item.ejs");
steal("appdev","opstools/Dashboard/controllers/ADDBWidget.js","//opstools/Dashboard/views/ADDBWidgetGmaGraph/ADDBWidgetGmaGraph.ejs","//opstools/Dashboard/views/ADDBWidgetGmaGraph/assignment-item.ejs","//opstools/Dashboard/views/ADDBWidgetGmaGraph/measurement-item.ejs",function(){"undefined"==typeof AD.controllers.opstools&&(AD.controllers.opstools={});"undefined"==typeof AD.controllers.opstools.Dashboard&&(AD.controllers.opstools.Dashboard={});AD.controllers.opstools.Dashboard.ADDBWidgetGmaGraph=
AD.controllers.opstools.Dashboard.ADDBWidget.extend({init:function(a,c){var d=this;this.options=c=AD.defaults({templateDOM:"//opstools/Dashboard/views/ADDBWidgetGmaGraph/ADDBWidgetGmaGraph.ejs",templateAssignmentItem:"//opstools/Dashboard/views/ADDBWidgetGmaGraph/assignment-item.ejs",templateMeasurementItem:"//opstools/Dashboard/views/ADDBWidgetGmaGraph/measurement-item.ejs"},c);AD.controllers.opstools.Dashboard.ADDBWidget.prototype.init.apply(this,arguments);this.dataSource=this.options.dataSource;
this.nodeId=this.measurementsBusy=this.buttonMeasurements=this.widget=null;AD.comm.socket.subscribe("gma_user_assignments",function(b,a){d.updateAssignments(a.assignments)});AD.comm.socket.subscribe("gma_assignment_measurements",function(b,a){a.nodeId==d.nodeId&&d.updateMeasurements(a.measurements)});AD.comm.socket.subscribe("gma_report",function(a,c){c.nodeId==d.nodeId&&d.updateReport(c.measurements)})},updateAssignments:function(a){var c=this,d=this.widget.find(".list-assignments");d.find("li").remove();
a.forEach(function(a){d.append(can.view(c.options.templateAssignmentItem,{assignment:a}))});d.find("li").click(function(a){c.assignmentClicked(a,$(this))})},updateMeasurements:function(a){var c=this,d=c.widget.find(".list-measurements");d.find("li").remove();a.forEach(function(a){d.append(can.view(c.options.templateMeasurementItem,{measurement:a}))});d.find("li").click(function(a){c.measurementClicked(a,$(this))})},updateReport:function(a){var c=this;c.widget.find(".opstool-dashboard-infoupdate").hide();
c.graphBusy.hide();var d=[];a.measurements.forEach(function(b){if(b.id==c.measurementID)for(var e=0;e<a.periods.length;e++){var f=b.values[e];f=="-"&&(f=0);d.push({month:a.periods[e],value:f})}});c.widget.find(".graph-area").show();c.graph.wijsparkline({data:d}).wijsparkline("redraw")},refreshData:function(){var a=this,c=AD.sal.Deferred();AD.comm.service.get({url:this.options.config.urlAssignments}).fail(function(a){console.log(a);c.reject(a)}).then(function(d){var b=$(".opsDashboard-widget-list-builder");
b.append(can.view(a.options.templateDOM,{id:a.options.id,assignments:d}));a.widget=b.find(".gmaGraph-"+a.options.id);a.widget.find(".assignment-item").click(function(b){a.assignmentClicked(b,$(this))});a.textAssignments=a.widget.find(".assignment-text");a.buttonMeasurements=a.widget.find(".button-measurements");a.buttonMeasurements.hide();a.measurementsBusy=new AD.widgets.ad_icon_busy(a.widget.find(".measurements-busy"));a.graphBusy=new AD.widgets.ad_icon_busy(a.widget.find(".graph-busy"));a.graph=
a.widget.find(".gmaSparkline").wijsparkline({bind:"value",tooltipContent:function(){return this.month+": "+this.value},type:"area",seriesStyles:[{fill:"#4381B8",stroke:"#4381B8"}]});a.graph.hide();c.resolve({widgetTitle:a.options.title,widgetId:a.options.id,widgetContent:a.widget})});return c},assignmentClicked:function(a,c){var d=c.attr("nodeId"),b=c.attr("name");this.nodeId=d;var e=this,f=this.options.config.urlMeasurements.replace("[nodeId]",d);e.textAssignments.text(b);e.buttonMeasurements.hide();
e.measurementsBusy.show();b=AD.lang.label.getLabel("[gatheringMeasurements]");e.statusUpdate(b);AD.comm.service.get({url:f,params:{nodeId:d}}).fail(function(a){console.log("Failed in getting Measurements for node:"+d+"  url["+f+"]");console.log(a)}).then(function(a){e.updateMeasurements(a);a=AD.lang.label.getLabel("[choose a measurement ...]");e.statusUpdate(a);e.buttonMeasurements.show();e.measurementsBusy.hide()})},measurementClicked:function(a,c){var d=this,b=c.text();this.measurementID=c.attr("measurementId");
var e=this.nodeId;this.widget.find(".measurement-text").html(b);this.statusUpdate("["+this.measurementID+"] "+b+"<br> ... gathering information");this.graphBusy.show();var f=this.options.config.urlGraph.replace("[nodeId]",e).replace("[measurementId]",this.measurementID);AD.comm.service.get({url:f}).fail(function(a){console.log("Failed in getting graphData for node:"+e+"  url["+f+"]");console.log(a)}).then(function(a){console.log("... hey!  got some data:");console.log(a.measurements);d.updateReport(a)})},
statusUpdate:function(a){this.widget.find(".opstool-dashboard-infoupdate").html(a).show();this.widget.find(".graph-area").hide();this.graphBusy.hide()},".assignment-item click":function(a,c){console.log("li clicked");c.preventDefault()}})});steal.executed("opstools/Dashboard/controllers/ADDBWidgetGmaGraph.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_WidgetList_WidgetList_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push('<div style="height: 809px; padding-top: 83px;" class="genlist-widget-inner opsportal-widget-container">\n    <div class="opsportal-widget-masthead">\n        <div class="opsportal-widget-title-container">\n            <div style="float:right;"><button class="ot-dashboard-button-mockup">see Mockup</button></div>\n            <h2 class="opsportal-widget-title">Widgets</h2>\n        </div>          \n        <div class="opsportal-widget-meta"><p class="opsportal-widget-meta-desc">Drag the widgets you want to view onto the Work Area:</p></div>\n        \n        \n        \n    </div>\n    <div class="opsDashboard-widget-list">\n    </div>\n    <div class="opsDashboard-widget-list-builder">\n    </div>\n</div>');return b.join("")}}))});
steal.executed("opstools/Dashboard/views/WidgetList/WidgetList.ejs");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_WidgetList_WidgetDiv_ejs",a.EJS(function(c,d){with(d)with(c){var b=[];b.push('\t\t<div class="widget-option widget-id-');b.push(a.view.txt(1,"div","class",this,function(){return widget.id}));b.push('" style="border: 1px solid rgb(203, 203, 203); margin: 0px 1em 1em 0px; transition: border-color 0.3s ease 0s; padding: 4px;"',a.view.pending(),">");b.push('\n            <span class="icon">\n                <a href="#"><i class="fa fa-bars"></i></a>\n            </span>\n            <span >');b.push(a.view.txt(1,
"span",0,this,function(){return widget.title}));b.push('</span>\n            <span class="busy"></span>\n        </div>\n');return b.join("")}}))});steal.executed("opstools/Dashboard/views/WidgetList/WidgetDiv.ejs");
steal("appdev","opstools/Dashboard/controllers/ADDBWidgetTable.js","opstools/Dashboard/controllers/ADDBWidgetTableNSCUpdate.js","opstools/Dashboard/controllers/ADDBWidgetGmaGraph.js","//opstools/Dashboard/views/WidgetList/WidgetList.ejs","//opstools/Dashboard/views/WidgetList/WidgetDiv.ejs",function(){var a={table:function(){return AD.controllers.opstools.Dashboard.ADDBWidgetTable},tableUpdateNSC:function(){return AD.controllers.opstools.Dashboard.ADDBWidgetTableNSCUpdate},gmaGraph:function(){return AD.controllers.opstools.Dashboard.ADDBWidgetGmaGraph}};
"undefined"==typeof AD.controllers.opstools&&(AD.controllers.opstools={});"undefined"==typeof AD.controllers.opstools.Dashboard&&(AD.controllers.opstools.Dashboard={});AD.controllers.opstools.Dashboard.WidgetList=AD.classes.UIController.extend({init:function(a,d){this.options=d=AD.defaults({templateDOM:"//opstools/Dashboard/views/WidgetList/WidgetList.ejs",templateWidgetDiv:"//opstools/Dashboard/views/WidgetList/WidgetDiv.ejs"},d);AD.classes.UIController.apply(this,arguments);this.dataSource=this.options.dataSource;
this.initDOM();this.initList()},initDOM:function(){this.element.html(can.view(this.options.templateDOM,{}));this.widgetListArea=this.element.find(".opsDashboard-widget-list");new AD.controllers.opstools.Dashboard.ADDBWidget(this.element.find(".widget-option"))},initList:function(){var c=this;AD.comm.service.get({url:"/opsdashboard/widget"}).fail(function(a){console.error("Dang!  Error trying to load /opsdashboard/widget  :");console.log(a)}).then(function(d){d.forEach(function(b){b.type=b.type||"table";
c.widgetListArea.append(can.view(c.options.templateWidgetDiv,{widget:b}));var d=b.type.split(".");a[d[0]]&&new (a[d[0]]())(c.widgetListArea.find(".widget-id-"+b.id),b)})})},".ad-item-add click":function(a,d){d.preventDefault()}})});steal.executed("opstools/Dashboard/controllers/WidgetList.js");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_Dashboard_Dashboard_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push("\n<div class='opsDashboard'>\n    <div class=\"row\" >\n        <div class='col-xs-2 gmamatrix-object-widget opsDashboard-widgets'></div>\n        <div class='col-xs-10 opsDashboard-stage'> \n            <ul id=\"dashboard-col1\"></ul>\n        </div>\n    </div>\n</div>");return b.join("")}}))});steal.executed("opstools/Dashboard/views/Dashboard/Dashboard.ejs");
steal("can/view/ejs",function(a){return a.view.preload("opstools_Dashboard_views_Dashboard_Mockup_ejs",a.EJS(function(a,d){with(d)with(a){var b=[];b.push("\n<div class='opsDashboard'>\n    <div class=\"row\" >\n        <div class='col-xs-2 gmamatrix-object-widget opsDashboard-widgets'></div>\n        <div class='col-xs-10 opsDashboard-stage'> \n            Yep, this is where your stuff should go!<br>\n            I'm expecting some impressive stuff here!\n        </div>\n    </div>\n</div>");return b.join("")}}))});
steal.executed("opstools/Dashboard/views/Dashboard/Mockup.ejs");
steal("appdev","opstools/Dashboard/controllers/WidgetList.js","js/sDashboard/sDashboard.css","js/datatables/media/js/jquery.dataTables.min.js","js/Flotr2/flotr2.min.js").then("js/sDashboard/jquery-sDashboard.js","opstools/Dashboard/dashboard.css","OpsPortal/classes/OpsTool.js","//opstools/Dashboard/views/Dashboard/Dashboard.ejs","//opstools/Dashboard/views/Dashboard/Mockup.ejs",function(){AD.Control.OpsTool.extend("Dashboard",{init:function(a,c){var d=this;this.options=c=AD.defaults({templateDOM:"//opstools/Dashboard/views/Dashboard/Dashboard.ejs",
templateMock:"//opstools/Dashboard/views/Dashboard/Mockup.ejs",resize_notification:"Dashboard.resize",tool:null},c);AD.classes.opsportal.OpsTool.prototype.init.apply(this,arguments);this.dataSource=this.options.dataSource;this.initDOM();this.element.find(".ot-dashboard-button-mockup").click(function(){d.showMockup()});AD.comm.hub.subscribe("opsDashboard.widget.add",function(a,c){d.addWidget(c.definition)})},addWidget:function(a){this.dashboard.sDashboard("addWidget",a)},initDOM:function(){this.element.html(can.view(this.options.templateDOM,
{}));new AD.controllers.opstools.Dashboard.WidgetList(this.element.find(".opsDashboard-widgets"));this.dashboard=this.element.find("#dashboard-col1").sDashboard();this.dashboard.bind("sdashboardstatechanged",function(a,d){"widgetRemoved"==d.triggerAction&&AD.comm.hub.publish("opsDashboard.widget.removed",d.affectedWidget)});var a=$.data(this.dashboard,"events");console.log("allEvents:");console.log(a)},showMockup:function(){this.element.html(can.view(this.options.templateMock,{}))},".ad-item-add click":function(a,
c){c.preventDefault()}})});steal.executed("opstools/Dashboard/controllers/Dashboard.js");steal("opstools/Dashboard/controllers/Dashboard.js","site/labels/opstool-Dashboard.js").then(function(){});steal.executed("opstools/Dashboard/Dashboard.js");steal.popPending();
